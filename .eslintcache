[{"/home/wilder/Documents/projets/Young_Tech/front/src/components/Unauthorized.js":"1","/home/wilder/Documents/projets/Young_Tech/front/src/pages/SignIn.js":"2","/home/wilder/Documents/projets/Young_Tech/front/src/pages/AdminProfile.js":"3","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateCompagnyProfile.js":"4","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateAdminProfile.js":"5","/home/wilder/Documents/projets/Young_Tech/front/src/index.js":"6","/home/wilder/Documents/projets/Young_Tech/front/src/pages/ErrorPage.js":"7","/home/wilder/Documents/projets/Young_Tech/front/src/pages/CompagnyProfile.js":"8","/home/wilder/Documents/projets/Young_Tech/front/src/pages/ApplicationForm.js":"9","/home/wilder/Documents/projets/Young_Tech/front/src/components/Comment.js":"10","/home/wilder/Documents/projets/Young_Tech/front/src/components/Navbar.js":"11","/home/wilder/Documents/projets/Young_Tech/front/src/components/DescriptionJob.js":"12","/home/wilder/Documents/projets/Young_Tech/front/src/components/Header.js":"13","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Textarea.js":"14","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/TextError.js":"15","/home/wilder/Documents/projets/Young_Tech/front/src/pages/Register.js":"16","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateUserProfile.js":"17"},{"size":457,"mtime":1606409399552,"results":"18","hashOfConfig":"19"},{"size":3347,"mtime":1606409399560,"results":"20","hashOfConfig":"19"},{"size":5498,"mtime":1606409399552,"results":"21","hashOfConfig":"19"},{"size":5032,"mtime":1606409399552,"results":"22","hashOfConfig":"19"},{"size":4956,"mtime":1606423705478,"results":"23","hashOfConfig":"19"},{"size":532,"mtime":1606154689724,"results":"24","hashOfConfig":"19"},{"size":475,"mtime":1606154689724,"results":"25","hashOfConfig":"19"},{"size":2958,"mtime":1606154689724,"results":"26","hashOfConfig":"19"},{"size":6611,"mtime":1606409399556,"results":"27","hashOfConfig":"19"},{"size":662,"mtime":1606154689724,"results":"28","hashOfConfig":"19"},{"size":2699,"mtime":1606409399548,"results":"29","hashOfConfig":"19"},{"size":2255,"mtime":1606154689724,"results":"30","hashOfConfig":"19"},{"size":234,"mtime":1606154689724,"results":"31","hashOfConfig":"19"},{"size":458,"mtime":1606154689724,"results":"32","hashOfConfig":"19"},{"size":186,"mtime":1606154689724,"results":"33","hashOfConfig":"19"},{"size":6624,"mtime":1606417877182,"results":"34","hashOfConfig":"19"},{"size":4892,"mtime":1606423789474,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"8tf779",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/wilder/Documents/projets/Young_Tech/front/src/components/Unauthorized.js",[],["72","73"],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/SignIn.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/AdminProfile.js",["74"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateCompagnyProfile.js",["75","76"],"import React, { useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport decode from \"jwt-decode\";\n//components\nimport FormikControl from \"../formik/FormikControl\";\nimport Button from \"../Button\";\n\nconst UpdateCompagnyForm = (props) => {\n  //get the user's id form localstorage\n  const token = localStorage.getItem(\"token\");\n  const { userID } = decode(token);\n  // get user's details from userProfile component\n  const userDetails = props.userDetails;\n\n  const [response, setResponse] = useState();\n\n  const initialValues = {\n    first_name: userDetails.first_name,\n    last_name: userDetails.last_name,\n    email: userDetails.email,\n    phone: userDetails.phone,\n    logo: userDetails.logo,\n    password: \"\",\n    repeat_password: \"\",\n    description_compagny: userDetails.description_compagny,\n    compagny_name: userDetails.compagny_name,\n  };\n\n  //set rules for validating of the field's form\n  const validationSchema = Yup.object({\n    first_name: Yup.string(),\n    last_name: Yup.string(),\n    type: Yup.string(),\n    email: Yup.string().email(\"Le format de l'email est incorrect\"),\n    password: Yup.string(),\n    repeat_password: Yup.string().oneOf(\n      [Yup.ref(\"password\"), \"\"],\n      \"Les mots de passe doivent être indentiques\"\n    ),\n    phone: Yup.string(),\n    description_compagny: Yup.string(),\n    compagny_name: Yup.string(),\n  });\n\n  function keepOnlyChangedValues(object1, object2) {\n    const keys1 = Object.keys(object1);\n    for (let key of keys1) {\n      if (object1[key] === object2[key]) {\n        delete object2[key];\n      }\n    }\n  }\n\n  //send new user's details to the BDD\n  const onSubmit = async (values, onSubmitProps) => {\n    keepOnlyChangedValues(initialValues, values);\n\n    delete values[\"repeat_password\"];\n\n    const confirmChoice = window.confirm(\n      \"Etes-vous sûr de vouloir modifier vos données ? \"\n    );\n\n    try {\n      if (confirmChoice) {\n        const url = `http://localhost:4040/allpeople/updateProfile/${userID}`;\n        await axios({\n          method: \"PUT\",\n          url: url,\n          data: values,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": token,\n          },\n        }).then((res) => {\n          if (res.status === 200) {\n            alert(\"Vos données ont été modifiées\");\n            window.location.reload();\n          }\n        });\n      } else {\n        onSubmitProps.resetForm();\n      }\n    } catch {\n      alert(\"Vos données n'ont pas pu être modifiées\");\n    }\n  };\n\n  return (\n    <div>\n      {!userDetails.logo ? null : (\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {(formik) => (\n            <Form className=\"signIn__form\">\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"first_name\"\n                label=\"Prénom\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"last_name\"\n                label=\"Nom\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"email\"\n                name=\"email\"\n                label=\"E-mail\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"password\"\n                name=\"password\"\n                label=\"mot de passe\"\n                placeholder=\"********\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"password\"\n                name=\"repeat_password\"\n                label=\"répétez votre mot de passe\"\n                placeholder=\"********\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"tel\"\n                name=\"phone\"\n                label=\"Téléphone\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"logo\"\n                label=\"Photo\"\n              />\n\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"compagny_name\"\n                label=\"Nom de l'entreprise\"\n                placeholder=\"Microsoft\"\n              />\n              <FormikControl\n                control=\"textarea\"\n                name=\"description_compagny\"\n                label=\"Description de votre entreprise\"\n                placeholder=\"Courte description de votre entreprise\"\n              />\n\n              <Button\n                type=\"submit\"\n                disabled={!(formik.dirty && formik.isValid)}\n                className={\"btn btn--round\"}\n                value={\"Modifier mon profil\"}\n                messageError={Object.values(formik.errors).join(\", \")}\n              />\n            </Form>\n          )}\n        </Formik>\n      )}\n    </div>\n  );\n};\n\nexport default UpdateCompagnyForm;\n","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateAdminProfile.js",["77","78"],"/home/wilder/Documents/projets/Young_Tech/front/src/index.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/ErrorPage.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/CompagnyProfile.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/ApplicationForm.js",["79","80","81","82"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Comment.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Navbar.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/DescriptionJob.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Header.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Textarea.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/TextError.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/Register.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateUserProfile.js",["83","84"],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":18,"column":11,"nodeType":"91","messageId":"92","endLine":18,"endColumn":17},{"ruleId":"89","severity":1,"message":"93","line":17,"column":10,"nodeType":"91","messageId":"92","endLine":17,"endColumn":18},{"ruleId":"89","severity":1,"message":"94","line":17,"column":20,"nodeType":"91","messageId":"92","endLine":17,"endColumn":31},{"ruleId":"89","severity":1,"message":"93","line":17,"column":10,"nodeType":"91","messageId":"92","endLine":17,"endColumn":18},{"ruleId":"89","severity":1,"message":"94","line":17,"column":20,"nodeType":"91","messageId":"92","endLine":17,"endColumn":31},{"ruleId":"89","severity":1,"message":"95","line":1,"column":38,"nodeType":"91","messageId":"92","endLine":1,"endColumn":48},{"ruleId":"89","severity":1,"message":"96","line":8,"column":10,"nodeType":"91","messageId":"92","endLine":8,"endColumn":25},{"ruleId":"89","severity":1,"message":"97","line":18,"column":7,"nodeType":"91","messageId":"92","endLine":18,"endColumn":14},{"ruleId":"89","severity":1,"message":"98","line":28,"column":10,"nodeType":"91","messageId":"92","endLine":28,"endColumn":20},{"ruleId":"89","severity":1,"message":"93","line":17,"column":10,"nodeType":"91","messageId":"92","endLine":17,"endColumn":18},{"ruleId":"89","severity":1,"message":"94","line":17,"column":20,"nodeType":"91","messageId":"92","endLine":17,"endColumn":31},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"no-unused-vars","'userID' is assigned a value but never used.","Identifier","unusedVar","'response' is assigned a value but never used.","'setResponse' is assigned a value but never used.","'useContext' is defined but never used.","'UserInfoContext' is defined but never used.","'history' is assigned a value but never used.","'lastUserID' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]