[{"/home/wilder/Documents/projets/Young_Tech/front/src/components/Unauthorized.js":"1","/home/wilder/Documents/projets/Young_Tech/front/src/pages/SignIn.js":"2","/home/wilder/Documents/projets/Young_Tech/front/src/pages/AdminProfile.js":"3","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateCompagnyProfile.js":"4","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateAdminProfile.js":"5","/home/wilder/Documents/projets/Young_Tech/front/src/index.js":"6","/home/wilder/Documents/projets/Young_Tech/front/src/pages/ErrorPage.js":"7","/home/wilder/Documents/projets/Young_Tech/front/src/pages/CompagnyProfile.js":"8","/home/wilder/Documents/projets/Young_Tech/front/src/pages/ApplicationForm.js":"9","/home/wilder/Documents/projets/Young_Tech/front/src/components/Comment.js":"10","/home/wilder/Documents/projets/Young_Tech/front/src/components/Navbar.js":"11","/home/wilder/Documents/projets/Young_Tech/front/src/components/DescriptionJob.js":"12","/home/wilder/Documents/projets/Young_Tech/front/src/components/Header.js":"13","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Textarea.js":"14","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/TextError.js":"15","/home/wilder/Documents/projets/Young_Tech/front/src/pages/Register.js":"16","/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateUserProfile.js":"17","/home/wilder/Documents/projets/Young_Tech/front/src/serviceWorker.js":"18","/home/wilder/Documents/projets/Young_Tech/front/src/pages/Application.js":"19","/home/wilder/Documents/projets/Young_Tech/front/src/components/LatestJob.js":"20","/home/wilder/Documents/projets/Young_Tech/front/src/components/Button.js":"21","/home/wilder/Documents/projets/Young_Tech/front/src/components/JobContent.js":"22","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/DatePicker.js":"23","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/RadioButtons.js":"24","/home/wilder/Documents/projets/Young_Tech/front/src/pages/Homepage.js":"25","/home/wilder/Documents/projets/Young_Tech/front/src/pages/JobPage.js":"26","/home/wilder/Documents/projets/Young_Tech/front/src/pages/CreateAd.js":"27","/home/wilder/Documents/projets/Young_Tech/front/src/pages/UpdateAd.js":"28","/home/wilder/Documents/projets/Young_Tech/front/src/components/Hero.js":"29","/home/wilder/Documents/projets/Young_Tech/front/src/components/FilterBar.js":"30","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/FormikControl.js":"31","/home/wilder/Documents/projets/Young_Tech/front/src/components/JobList.js":"32","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Select.js":"33","/home/wilder/Documents/projets/Young_Tech/front/src/App.js":"34","/home/wilder/Documents/projets/Young_Tech/front/src/components/Category.js":"35","/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Input.js":"36","/home/wilder/Documents/projets/Young_Tech/front/src/pages/UserProfile.js":"37","/home/wilder/Documents/projets/Young_Tech/front/src/components/DeleteAccount.js":"38"},{"size":457,"mtime":1606742106961,"results":"39","hashOfConfig":"40"},{"size":3363,"mtime":1607170692066,"results":"41","hashOfConfig":"40"},{"size":5498,"mtime":1606483289982,"results":"42","hashOfConfig":"40"},{"size":5032,"mtime":1606483289974,"results":"43","hashOfConfig":"40"},{"size":4956,"mtime":1606423705478,"results":"44","hashOfConfig":"40"},{"size":532,"mtime":1606154689724,"results":"45","hashOfConfig":"40"},{"size":475,"mtime":1606154689724,"results":"46","hashOfConfig":"40"},{"size":2959,"mtime":1607177798905,"results":"47","hashOfConfig":"40"},{"size":6204,"mtime":1607179793389,"results":"48","hashOfConfig":"40"},{"size":662,"mtime":1606154689724,"results":"49","hashOfConfig":"40"},{"size":2699,"mtime":1606742106961,"results":"50","hashOfConfig":"40"},{"size":2255,"mtime":1606154689724,"results":"51","hashOfConfig":"40"},{"size":234,"mtime":1606154689724,"results":"52","hashOfConfig":"40"},{"size":458,"mtime":1606154689724,"results":"53","hashOfConfig":"40"},{"size":188,"mtime":1606742106961,"results":"54","hashOfConfig":"40"},{"size":6634,"mtime":1607173198867,"results":"55","hashOfConfig":"40"},{"size":4892,"mtime":1606742106961,"results":"56","hashOfConfig":"40"},{"size":5086,"mtime":1601368025791,"results":"57","hashOfConfig":"40"},{"size":1859,"mtime":1606742106961,"results":"58","hashOfConfig":"40"},{"size":404,"mtime":1606154689724,"results":"59","hashOfConfig":"40"},{"size":292,"mtime":1606742106961,"results":"60","hashOfConfig":"40"},{"size":4858,"mtime":1606742106961,"results":"61","hashOfConfig":"40"},{"size":851,"mtime":1606154689724,"results":"62","hashOfConfig":"40"},{"size":1062,"mtime":1606742106961,"results":"63","hashOfConfig":"40"},{"size":571,"mtime":1606154689724,"results":"64","hashOfConfig":"40"},{"size":1790,"mtime":1606742106961,"results":"65","hashOfConfig":"40"},{"size":4587,"mtime":1606742106961,"results":"66","hashOfConfig":"40"},{"size":5342,"mtime":1606742106961,"results":"67","hashOfConfig":"40"},{"size":1011,"mtime":1606154689724,"results":"68","hashOfConfig":"40"},{"size":2249,"mtime":1606154689724,"results":"69","hashOfConfig":"40"},{"size":663,"mtime":1606154689724,"results":"70","hashOfConfig":"40"},{"size":981,"mtime":1606154689724,"results":"71","hashOfConfig":"40"},{"size":907,"mtime":1606154689724,"results":"72","hashOfConfig":"40"},{"size":3277,"mtime":1606742106961,"results":"73","hashOfConfig":"40"},{"size":213,"mtime":1606154689724,"results":"74","hashOfConfig":"40"},{"size":505,"mtime":1606154689724,"results":"75","hashOfConfig":"40"},{"size":2575,"mtime":1606154689724,"results":"76","hashOfConfig":"40"},{"size":1773,"mtime":1606742106961,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"8tf779",{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"124"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"94"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/wilder/Documents/projets/Young_Tech/front/src/components/Unauthorized.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/SignIn.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/AdminProfile.js",["161"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateCompagnyProfile.js",["162","163"],"import React, { useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport decode from \"jwt-decode\";\n//components\nimport FormikControl from \"../formik/FormikControl\";\nimport Button from \"../Button\";\n\nconst UpdateCompagnyForm = (props) => {\n  //get the user's id form localstorage\n  const token = localStorage.getItem(\"token\");\n  const { userID } = decode(token);\n  // get user's details from userProfile component\n  const userDetails = props.userDetails;\n\n  const [response, setResponse] = useState();\n\n  const initialValues = {\n    first_name: userDetails.first_name,\n    last_name: userDetails.last_name,\n    email: userDetails.email,\n    phone: userDetails.phone,\n    logo: userDetails.logo,\n    password: \"\",\n    repeat_password: \"\",\n    description_compagny: userDetails.description_compagny,\n    compagny_name: userDetails.compagny_name,\n  };\n\n  //set rules for validating of the field's form\n  const validationSchema = Yup.object({\n    first_name: Yup.string(),\n    last_name: Yup.string(),\n    type: Yup.string(),\n    email: Yup.string().email(\"Le format de l'email est incorrect\"),\n    password: Yup.string(),\n    repeat_password: Yup.string().oneOf(\n      [Yup.ref(\"password\"), \"\"],\n      \"Les mots de passe doivent être indentiques\"\n    ),\n    phone: Yup.string(),\n    description_compagny: Yup.string(),\n    compagny_name: Yup.string(),\n  });\n\n  function keepOnlyChangedValues(object1, object2) {\n    const keys1 = Object.keys(object1);\n    for (let key of keys1) {\n      if (object1[key] === object2[key]) {\n        delete object2[key];\n      }\n    }\n  }\n\n  //send new user's details to the BDD\n  const onSubmit = async (values, onSubmitProps) => {\n    keepOnlyChangedValues(initialValues, values);\n\n    delete values[\"repeat_password\"];\n\n    const confirmChoice = window.confirm(\n      \"Etes-vous sûr de vouloir modifier vos données ? \"\n    );\n\n    try {\n      if (confirmChoice) {\n        const url = `http://localhost:4040/allpeople/updateProfile/${userID}`;\n        await axios({\n          method: \"PUT\",\n          url: url,\n          data: values,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": token,\n          },\n        }).then((res) => {\n          if (res.status === 200) {\n            alert(\"Vos données ont été modifiées\");\n            window.location.reload();\n          }\n        });\n      } else {\n        onSubmitProps.resetForm();\n      }\n    } catch {\n      alert(\"Vos données n'ont pas pu être modifiées\");\n    }\n  };\n\n  return (\n    <div>\n      {!userDetails.logo ? null : (\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {(formik) => (\n            <Form className=\"signIn__form\">\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"first_name\"\n                label=\"Prénom\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"last_name\"\n                label=\"Nom\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"email\"\n                name=\"email\"\n                label=\"E-mail\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"password\"\n                name=\"password\"\n                label=\"mot de passe\"\n                placeholder=\"********\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"password\"\n                name=\"repeat_password\"\n                label=\"répétez votre mot de passe\"\n                placeholder=\"********\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"tel\"\n                name=\"phone\"\n                label=\"Téléphone\"\n              />\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"logo\"\n                label=\"Photo\"\n              />\n\n              <FormikControl\n                control=\"input\"\n                type=\"text\"\n                name=\"compagny_name\"\n                label=\"Nom de l'entreprise\"\n                placeholder=\"Microsoft\"\n              />\n              <FormikControl\n                control=\"textarea\"\n                name=\"description_compagny\"\n                label=\"Description de votre entreprise\"\n                placeholder=\"Courte description de votre entreprise\"\n              />\n\n              <Button\n                type=\"submit\"\n                disabled={!(formik.dirty && formik.isValid)}\n                className={\"btn btn--round\"}\n                value={\"Modifier mon profil\"}\n                messageError={Object.values(formik.errors).join(\", \")}\n              />\n            </Form>\n          )}\n        </Formik>\n      )}\n    </div>\n  );\n};\n\nexport default UpdateCompagnyForm;\n",["164","165"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateAdminProfile.js",["166","167"],"/home/wilder/Documents/projets/Young_Tech/front/src/index.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/ErrorPage.js",[],["168","169"],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/CompagnyProfile.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/ApplicationForm.js",["170","171","172","173","174"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Comment.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Navbar.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/DescriptionJob.js",[],["175","176"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Header.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Textarea.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/TextError.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/Register.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/UpdateProfileForm/UpdateUserProfile.js",["177","178"],"/home/wilder/Documents/projets/Young_Tech/front/src/serviceWorker.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/Application.js",["179"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/LatestJob.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Button.js",[],["180","181"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/JobContent.js",["182"],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/DatePicker.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/RadioButtons.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/Homepage.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/JobPage.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/CreateAd.js",["183"],"import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport decode from \"jwt-decode\";\n//components\nimport FormikControl from \"../components/formik/FormikControl\";\nimport Hero from \"../components/Hero\";\nimport Button from \"../components/Button\";\n\nconst CreatedAd = () => {\n  let history = useHistory();\n  //(state) - get this information from back when the user is login\n  const token = localStorage.getItem(\"token\");\n  const { userID, compagny_name } = decode(token);\n\n  /**\n   * Formik propreties\n   */\n\n  //for job_name select element\n  const dropdownOptionsJob = [\n    {\n      key: \"Choissisez un métier\",\n      value: \"\",\n      selected: true,\n      hidden: true,\n      disabled: true,\n    },\n    { key: \"Développeur frontend\", value: \"Développeur frontend\" },\n    { key: \"Développeur backend\", value: \"Développeur backend\" },\n    { key: \"Designer\", value: \"Designer\" },\n    { key: \"Intégrateur web\", value: \"Intégrateur web\" },\n  ];\n  // for contract select element\n  const dropdownOptionsContract = [\n    {\n      key: \"Type de contrat\",\n      value: \"\",\n      selected: true,\n      hidden: true,\n      disabled: true,\n    },\n    { key: \"Alternance\", value: \"Alternance\" },\n    { key: \"CDI\", value: \"CDI\" },\n    { key: \"CDD\", value: \"CDD\" },\n    { key: \"Stage\", value: \"Stage\" },\n  ];\n  const initialValues = {\n    job_name: \"\",\n    description_position: \"\",\n    location: \"\",\n    wage: \"\",\n    contract: \"\",\n    prerequisite: \"\",\n  };\n  const validationSchema = Yup.object({\n    job_name: Yup.string().required(\"Obligatoire !\"),\n    description_position: Yup.string().required(\"Obligatoire !\"),\n    location: Yup.string().required(\"Obligatoire !\"),\n    contract: Yup.string().required(\"Obligatoire !\"),\n  });\n\n  const onSubmit = async (values, onSubmitProps) => {\n    const url = \"http://localhost:4040/compagny/createad\";\n    //await axios.post(url, { ...values, userID, compagny_name });\n    await axios({\n      method: \"POST\",\n      url: url,\n      data: {\n        ...values,\n        userID: userID,\n        compagny_name: compagny_name,\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    }).then((res) => {\n      if (res.status === 200) {\n        alert(\"L'offre à bien été crée\");\n        onSubmitProps.resetForm();\n        window.location.replace(`compagny/${userID}`);\n      }\n    }).catch(() => {\n      alert(\"L'offre n'a pas pu être crée\")\n    })\n  };\n\n  return (\n    <div className=\"createAd\">\n      <Hero title={\"Créer une offre\"} subtitle={\"\"} />\n      <div className=\"form-box\">\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n          validateOnMount\n        >\n          {(formik) => (\n            <Form className=\"createAd-form\">\n              <div className=\"createAd-form__inner\">\n                <FormikControl\n                  control=\"select\"\n                  label=\"Métier\"\n                  name=\"job_name\"\n                  options={dropdownOptionsJob}\n                />\n\n                <FormikControl\n                  control=\"textarea\"\n                  label=\"Description du poste\"\n                  name=\"description_position\"\n                  placeholder=\"Décrivez le poste\"\n                />\n                <FormikControl\n                  control=\"textarea\"\n                  label=\"Pré-requis\"\n                  name=\"prerequisite\"\n                  placeholder=\"Quels sont les pré-requis pour le poste\"\n                />\n                <FormikControl\n                  control=\"select\"\n                  label=\"Type de contrat\"\n                  name=\"contract\"\n                  options={dropdownOptionsContract}\n                />\n                <FormikControl\n                  control=\"input\"\n                  label=\"Salaire (par mois)\"\n                  name=\"wage\"\n                  placeholder=\"ex:1200\"\n                />\n                <FormikControl\n                  control=\"input\"\n                  label=\"Lieu\"\n                  name=\"location\"\n                  placeholder=\"Lieu du poste\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={!formik.isValid}\n                  className={\"btn\"}\n                  value={\"Créer l'offre\"}\n                />\n              </div>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default CreatedAd;\n","/home/wilder/Documents/projets/Young_Tech/front/src/pages/UpdateAd.js",["184"],"import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useHistory} from \"react-router-dom\"\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport decode from \"jwt-decode\";\n//components\nimport FormikControl from \"../components/formik/FormikControl\";\nimport Button from \"../components/Button\";\nimport DescriptionJob from \"../components/DescriptionJob\";\nimport Hero from \"../components/Hero\";\n\nconst UpdateAd = (props) => {\n  let history = useHistory()\n  const offerID = props.match.params.id;\n  const token = localStorage.getItem(\"token\");\n  const { userID } = decode(token);\n\n  const [adDetails, setadDetails] = useState([]);\n  const [response, setResponse] = useState([]);\n\n  useEffect(() => {\n    const getAdDetails = async () => {\n      const url = `http://localhost:4040/allpeople/getOffer/${offerID}`;\n      const results = await axios.get(url);\n      setadDetails(results.data[0]);\n    };\n    getAdDetails();\n  }, [response, offerID]);\n\n   /**\n   * Formik propreties\n   */\n\n    //for job_name select element\n    const dropdownOptionsJob = [\n        {\n          key: \"Choissisez un métier\",\n          value: \"\",\n          selected: true,\n          hidden: true,\n          disabled: true,\n        },\n        { key: \"Développeur frontend\", value: \"Développeur frontend\" },\n        { key: \"Développeur backend\", value: \"Développeur backend\" },\n        { key: \"Designer\", value: \"Designer\" },\n        {key: \"Intégrateur web\", value: \"Intégrateur web\"}\n      ];\n\n        const dropdownOptionsContract = [\n    {\n      key: \"Type de contrat\",\n      value: \"\",\n      selected: true,\n      hidden: true,\n      disabled: true,\n    },\n    { key: \"Alternance\", value: \"Alternance\" },\n    { key: \"CDI\", value: \"CDI\" },\n    { key: \"CDD\", value: \"CDD\" },\n    { key: \"Stage\", value: \"Stage\" },\n  ];\n\n  const initialValues = {\n    job_name: adDetails.job_name,\n    description_position: adDetails.description_position,\n    prerequisite: adDetails.prerequisite,\n    wage: adDetails.wage,\n    contract: adDetails.contract,\n    location: adDetails.location,\n  };\n\n  const validationSchema = Yup.object({\n    job_name: Yup.string(),\n    description_position: Yup.string(),\n    prerequisite: Yup.string(),\n    wage: Yup.string(),\n    contract: Yup.string(),\n    location: Yup.string(),\n  });\n\n  const onSubmit = async (values) => {\n    const url = `http://localhost:4040/compagny/updatead/${offerID}`;\n    //const results = await axios.put(url, values)\n    await axios({\n      method: \"PUT\",\n      url: url,\n      data: values,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    })\n    .then((res)=>{\n      setResponse(res)\n      if(res.status === 200){\n        alert(\"L'offre à été modifié avec succès.\")\n        window.location.replace(`/compagny/${userID}`)\n      }\n    })\n    .catch(() => {\n      alert(\"L'offre n'a pas pu être modifiée\")\n      history.goBack()\n    })\n  };\n\n \n  return (\n    <div className=\"updateAd\">\n        <Hero title={\"Modifier une offre\"} subtitle={null}/>\n        <DescriptionJob \n        key={offerID}\n        idJob={offerID}\n        logo={adDetails.logo}\n        wage={adDetails.wage}\n        contract={adDetails.contract}\n        job_name={adDetails.job_name}\n        compagny_name={adDetails.compagny_name}\n        location={adDetails.location}\n        />\n        <div className=\"form-box\">\n      {!adDetails.location ? null : (\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {(formik) => (\n            <Form className=\"updateAd-form\">\n                <div className=\"updateAd-form__inner\">\n             <FormikControl\n                  control=\"select\"\n                  label=\"Métier\"\n                  name=\"job_name\"\n                  options={dropdownOptionsJob}\n                />\n               <FormikControl\n                  control=\"textarea\"\n                  label=\"Description du poste\"\n                  name=\"description_position\"\n                  placeholder=\"Décrivez le poste\"\n                />\n                 <FormikControl\n                  control=\"textarea\"\n                  label=\"Pré-requis\"\n                  name=\"prerequisite\"\n                  placeholder=\"Décrivez le poste\"\n                />\n               <FormikControl\n                  control=\"select\"\n                  label=\"Type de contrat\"\n                  name=\"contract\"\n                  options={dropdownOptionsContract}\n                />\n             <FormikControl\n                  control=\"input\"\n                  label=\"Salaire (par mois)\"\n                  name=\"wage\"\n                  placeholder=\"ex:1200\"\n                />\n             <FormikControl\n                  control=\"input\"\n                  label=\"Lieu\"\n                  name=\"location\"\n                  placeholder=\"Lieu du poste\"\n                />\n              <Button\n                  type=\"submit\"\n                  disabled={!(formik.dirty && formik.isValid)}\n                  className={\"btn\"}\n                  value={\"Modifier l'offre\"}\n                />\n                </div>\n            </Form>\n          )}\n        </Formik>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateAd;\n","/home/wilder/Documents/projets/Young_Tech/front/src/components/Hero.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/FilterBar.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/FormikControl.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/JobList.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Select.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/App.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/Category.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/formik/Input.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/pages/UserProfile.js",[],"/home/wilder/Documents/projets/Young_Tech/front/src/components/DeleteAccount.js",["185"],{"ruleId":"186","severity":1,"message":"187","line":18,"column":11,"nodeType":"188","messageId":"189","endLine":18,"endColumn":17},{"ruleId":"186","severity":1,"message":"190","line":17,"column":10,"nodeType":"188","messageId":"189","endLine":17,"endColumn":18},{"ruleId":"186","severity":1,"message":"191","line":17,"column":20,"nodeType":"188","messageId":"189","endLine":17,"endColumn":31},{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","replacedBy":"195"},{"ruleId":"186","severity":1,"message":"190","line":17,"column":10,"nodeType":"188","messageId":"189","endLine":17,"endColumn":18},{"ruleId":"186","severity":1,"message":"191","line":17,"column":20,"nodeType":"188","messageId":"189","endLine":17,"endColumn":31},{"ruleId":"192","replacedBy":"196"},{"ruleId":"194","replacedBy":"197"},{"ruleId":"186","severity":1,"message":"198","line":1,"column":38,"nodeType":"188","messageId":"189","endLine":1,"endColumn":48},{"ruleId":"186","severity":1,"message":"199","line":6,"column":8,"nodeType":"188","messageId":"189","endLine":6,"endColumn":14},{"ruleId":"186","severity":1,"message":"200","line":8,"column":10,"nodeType":"188","messageId":"189","endLine":8,"endColumn":25},{"ruleId":"186","severity":1,"message":"201","line":18,"column":7,"nodeType":"188","messageId":"189","endLine":18,"endColumn":14},{"ruleId":"186","severity":1,"message":"202","line":22,"column":9,"nodeType":"188","messageId":"189","endLine":22,"endColumn":14},{"ruleId":"192","replacedBy":"203"},{"ruleId":"194","replacedBy":"204"},{"ruleId":"186","severity":1,"message":"190","line":17,"column":10,"nodeType":"188","messageId":"189","endLine":17,"endColumn":18},{"ruleId":"186","severity":1,"message":"191","line":17,"column":20,"nodeType":"188","messageId":"189","endLine":17,"endColumn":31},{"ruleId":"186","severity":1,"message":"205","line":17,"column":10,"nodeType":"188","messageId":"189","endLine":17,"endColumn":19},{"ruleId":"192","replacedBy":"206"},{"ruleId":"194","replacedBy":"207"},{"ruleId":"186","severity":1,"message":"190","line":26,"column":10,"nodeType":"188","messageId":"189","endLine":26,"endColumn":18},{"ruleId":"186","severity":1,"message":"201","line":13,"column":7,"nodeType":"188","messageId":"189","endLine":13,"endColumn":14},{"ruleId":"186","severity":1,"message":"208","line":3,"column":10,"nodeType":"188","messageId":"189","endLine":3,"endColumn":18},{"ruleId":"186","severity":1,"message":"201","line":12,"column":7,"nodeType":"188","messageId":"189","endLine":12,"endColumn":14},"no-unused-vars","'userID' is assigned a value but never used.","Identifier","unusedVar","'response' is assigned a value but never used.","'setResponse' is assigned a value but never used.","no-native-reassign",["209"],"no-negated-in-lhs",["210"],["209"],["210"],"'useContext' is defined but never used.","'decode' is defined but never used.","'UserInfoContext' is defined but never used.","'history' is assigned a value but never used.","'token' is assigned a value but never used.",["209"],["210"],"'myDetails' is assigned a value but never used.",["209"],["210"],"'Redirect' is defined but never used.","no-global-assign","no-unsafe-negation"]